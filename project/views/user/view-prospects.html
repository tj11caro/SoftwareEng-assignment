<!-- Navigation-->
<style>
  .scrollme {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
  }
</style>
<div ng-include="'views/user/user-nav.html'"></div>

<div ng-controller="MainController" class="content-wrapper">
  <div class="container-fluid" ng-controller="NotesController">
    <!-- Breadcrumbs-->
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="#">Dashboard</a>
      </li>
      <li class="breadcrumb-item active">View My Prospects</li>
    </ol>
    <!-- Example DataTables Card-->
    <div class="card mb-3">
      <div class="card-header">
        <div class="card-body">
          <div class="col-lg-12">
            <div class="card mb-3">
              <div class="card-header">
                <i class="fa fa-table scrollable">
                  <i class="h4">My Prospects</i>
                </i>

                <form>
                  <div class="row control-group pull-right ">
                    <div class="col col-auto my-1">
                      <!-- <label class="mr-sm-2" for="inlineFormCustomSelect">Donors per Page</label> -->
                      <!-- <i class="fa fa-table"></i> Claimed Prospect List</div> -->
                      <select class="pull-right custom-select mr-sm-2" id="inlineFormCustomSelect" onchange="angular.element(this).scope().setRange(this)">
                        <option selected>10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                      </select>
                    </div>
                    <div class="col col-auto my-1">
                      <button class="btn btn-info" ng-click="prospectPageDecrement(getMyProspects)">Back</button>
                    </div>
                    <div class=" col col-auto my-1">
                      <button class="btn btn-primary" ng-click="prospectPageIncrement(getMyProspects)">{{tableData.buttonText}}</button>
                    </div>
                  </div>
                </form>
              </div>
              <div class="card-body">
                <div class="table-responsive table-hover" ng-init="getMyProspects()">
                  <table class="table table-bordered" width="100%" cellspacing="0">
                    <thead>
                      <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Phone</th>
                        <th>Email</th>
                      </tr>
                    </thead>
                    <tfoot>
                      <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Phone</th>
                        <th>Email</th>
                      </tr>
                    </tfoot>
                    <tbody data-toggle="tooltip" title="Click for More Information">
                      <tr ng-repeat="i in range(tableData.range, prospects)" data-toggle="modal" data-target="#infoModal" ng-model="activeProspect"
                        ng-click="setActiveProspect(i);getNote(i)">
                        <td ng-model="activeProspect.DONOR_FIRST_NAME">{{ i.DONOR_FIRST_NAME }}</td>
                        <td>{{ i.DONOR_LAST_NAME }}</td>
                        <td>{{ i.UV_PHONE }}</td>
                        <td>{{ i.EMAIL }} </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Info Modal-->
    <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header d-inline">
            <button class="close " type="button " data-dismiss="modal " aria-label="Close ">
              <span aria-hidden="true ">×</span>
            </button>
            <h5 class="modal-title" id="infoModalLabel"> {{ activeProspect.DONOR_FIRST_NAME }} {{ activeProspect.DONOR_MIDDLE_NAME }} {{ activeProspect.DONOR_LAST_NAME
              }} |
              <i class="h5 text-right "> Asking: {{ activeProspect.ASK_AMT}}</i>
            </h5>
          </div>
          <!-- <div class="modal-body "> -->
          <table class="scrollme table-bordered p-3">
            <thead>
              <tr>
                <th class="p-3 text-center ">Home Phone</th>
                <th class="p-3 text-center ">Cell Phone</th>
                <th class="p-3 text-center ">Email</th>
                <th class="p-3 text-center ">Business Phone</th>
                <th class="p-3 text-center ">Business Email</th>
                <th class="p-3 text-center ">Maiden Name</th>
                <th class="p-3 text-center ">Grad Year</th>
                <th class="p-3 text-center ">Common Name</th>
                <th class="p-3 text-center ">Address</th>
                <th class="p-3 text-center ">City</th>
                <th class="p-3 text-center ">State</th>
                <th class="p-3 text-center ">Zipcode</th>
                <th class="p-3 text-center ">Organization</th>
                <th class="p-3 text-center ">Position</th>
                <th class="p-3 text-center ">Business Address</th>
                <th class="p-3 text-center ">Business City</th>
                <th class="p-3 text-center ">Business State</th>
                <th class="p-3 text-center ">Business Zipcode</th>
              </tr>
            </thead>
            <tbody>
              <tr class="p-3 ">
                <td class="p-3 ">{{activeProspect.CE_PHONE}}</td>
                <td class="p-3 ">{{activeProspect.UV_PHONE}}</td>
                <td class="p-3 ">{{activeProspect.PREFERRED_EMAIL_ADDRESS}}</td>
                <td class="p-3 ">{{activeProspect.BU_PHONE}}</td>
                <td class="p-3 ">{{activeProspect.BU_EMAIL}}</td>
                <td class="p-3 ">{{activeProspect.DONOR_MAIDEN}}</td>
                <td class="p-3 ">{{activeProspect.DONOR_PREF_CLASS}}</td>
                <td class="p-3 ">{{activeProspect.CASL}}</td>
                <td class="p-3 ">{{activeProspect.UV_STREET_LINE1}}, {{activeProspect.UV_STREET_LINE2}}, {{activeProspect.UV_STREET_LINE3}}</td>
                <td class="p-3 ">{{activeProspect.UV_CITY}}</td>
                <td class="p-3 ">{{activeProspect.UV_STATE}}</td>
                <td class="p-3 ">{{activeProspect.UV_ZIP}}</td>
                <td class="p-3 ">{{activeProspect.ORG}}</td>
                <td class="p-3 ">{{activeProspect.POSITION}}</td>
                <td class="p-3 ">{{activeProspect.BU_STREET_LINE2}}, {{activeProspect.BU_STREET_LINE3}}</td>
                <td class="p-3 ">{{activeProspect.BU_CITY}}</td>
                <td class="p-3 ">{{activeProspect.BU_STATE}}</td>
                <td class="p-3 ">{{activeProspect.BU_ZIP}}</td>
              </tr>
            </tbody>
          </table>

          <form class="form-group p-3 m-3">
            <div class="container ">
              <div class="row">
                <div class="col-md-12">
                  <div class="table-responsive">
                    <div class="table">
                      <div>
                        <b>Date: </b>
                        {{notes.previous.date}}
                      </div>
                      <span>
                        <b>Flags:</b>
                        {{notes.previous.flags}}
                        <b>Status:</b>
                        {{notes.previous.status}}
                        <i class="fa fa-circle" ng-if="notes.previous.status == 'Not Interested'" style="color:yellow"></i>
                        <i class="fa fa-circle" ng-if="notes.previous.status == 'Ready To Donate'" style="color:green"></i>
                        <i class="fa fa-circle" ng-if="notes.previous.status == 'Already Donated'" style="color:red"></i>
                        <i class="fa fa-circle" ng-if="notes.previous.status == undefined" style="color:blue"></i>
                      </span>
                      <div class="border rounded p-2">
                        <b>Previous Note:</b>
                        <br> {{notes.previous.notes}}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <h3 class="text-center">Notes</h3>
            <div class="form-label-group mb-2 d-inline">
              <label class="mb-1 font-weight-bold ">Donation Status</label>
              <div class="radio">
                <label>
                  <input ng-model="notes.statuz" type="radio" name="status" placeholder="ccc address" value="Not Interested" autofocus> Not Interested
                </label>
              </div>
              <div class="radio">
                <label>
                  <input ng-model="notes.statuz" type="radio" name="status" placeholder="qwerq address" value="Ready To Donate"> Ready To Donate
                </label>
              </div>
              <div class="radio">
                <label>
                  <input ng-model="notes.statuz" type="radio" name="status" placeholder="Email address" value="Already Donated"> Already Donated
                </label>
              </div>
            </div>
            <div class="form-label-group mb-2">
              <label for="inputMessage" class="mb-1 font-weight-bold">Message</label>
              <textarea ng-model="notes.message" id="inputMessage" class="form-control" placeholder="Anything Worth Mentioning?  (1000 char max)"></textarea>
            </div>
            <label for="flag" class="mb-1 font-weight-bold">Flags</label>
            <select class="selectpicker form-control" id="flag" ng-model="notes.flag">
              <option value=""></option>
              <option value="Delete Record">Delete Record</option>
              <option value="Changing Data">Changing Data</option>
            </select>
            <div class="modal-footer mt-5 ">
              <button class="btn btn-secondary " type="button" data-dismiss="modal">Cancel</button>
              <button class="btn btn-primary " type="submit" data-dismiss="modal" ng-click="submitNote(activeProspect.PIDM_KEY)">Submit</button>
            </div>
          </form>

          <!-- </div> -->
        </div>
      </div>
    </div>
  </div>
  <!-- /.container-fluid-->
</div>
<!-- /.content-wrapper-->
<footer class="sticky-footer ">
  <div class="container ">
    <div class="text-center ">
      <small>Copyright © Siena College Annual Fund</small>
    </div>
  </div>
</footer>
<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded " href="#page-top ">
  <i class="fa fa-angle-up "></i>
</a>
<!-- Custom scripts for this page-->
<!-- Toggle between fixed and static navbar-->
<script>
  $('#toggleNavPosition').click(function () {
    $('body').toggleClass('fixed-nav');
    $('nav').toggleClass('fixed-top static-top');
  });

</script>
<!-- Toggle between dark and light navbar-->
<script>
  $('#toggleNavColor').click(function () {
    $('nav').toggleClass('navbar-dark navbar-light');
    $('nav').toggleClass('bg-dark bg-light');
    $('body').toggleClass('bg-dark bg-light');
  });